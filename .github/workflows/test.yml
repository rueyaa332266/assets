name: build
on:
  push:
    branches-ignore:
      - master

jobs:
  test_env_1:
    name: Test1
    runs-on: ubuntu-latest
    outputs:
      output1: ${{ steps.j1.outputs.pr }}
    steps:
    - name: test1
      id: j1
      run: |
        echo "::set-output name=pr::OK"
  test_env_2:
    needs: test_env_1
    name: Test2
    runs-on: ubuntu-latest
    steps:
    - name: test2
      run: |
        echo ${{needs.test_env_1.outputs.output1}}
    - name: check if
      if: needs.test_env_1.outputs.output1 != 'OK'
      run: echo skip?